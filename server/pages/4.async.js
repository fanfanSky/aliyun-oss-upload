(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{AfOu:function(e,t,a){"use strict";var n=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var l=n(a("bx4M"));a("+L6B");var o=n(a("2/Rp"));a("MXD1");var u=n(a("CFYs")),i=n(a("jehZ")),d=n(a("eHn4")),c=n(a("p0pE")),s=n(a("2Taf")),f=n(a("vZ4D")),p=n(a("l4Ni")),m=n(a("ujKo")),v=n(a("MhPg"));a("y8nQ");var h,g,b,E,y=n(a("Vl3Y")),w=r(a("q1tI")),C=a("MuoO"),x=(a("7DNP"),n(a("wd/R"))),N=n(a("zHco")),P=n(a("YpuR")),L=y.default.Item,M=(h=(0,C.connect)(function(e){var t=e.upload,a=e.loading;return{upload:t,submitting:a.effects["upload/upload"],gettingCredential:a.effects["upload/getCredential"]}}),g=y.default.create(),h(b=g((E=function(e){function t(){var e,a;(0,s.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,p.default)(this,(e=(0,m.default)(t)).call.apply(e,[this].concat(r))),a.state={progress:{}},a.checkpoints={},a.handleSubmit=function(e){e.preventDefault();var t=a.props,n=t.form,r=t.dispatch;n.validateFieldsAndScroll(function(e,t){if(!e){var n=t.files,l=t.largeFiles;n&&n.length>0&&r({type:"upload/getCredential",success:function(){var e=n&&n.map(function(e){return e.originFileObj});console.log("files ==== ",e),a.upload(e)}}),l&&l.length>0&&r({type:"upload/getCredential",success:function(){var e=l&&l.map(function(e){return e.originFileObj});e.forEach(function(e){return a.multipartUpload(e)})}})}})},a.onMultipartUploadProgress=function(e){console.log("multipart upload onProgress ===",e);var t=a.props,n=t.upload,r=n.credentials,l=n.ossClient,o=t.gettingCredential,u=t.dispatch,i=e.progress,s=e.checkpoint;a.checkpoints[s.file.uid]=s,a.setState(function(e){return{progress:(0,c.default)({},e.progress,(0,d.default)({},s.file.uid,{progress:i,fileSize:s.fileSize}))}},function(){if(!o){var e=r.Expiration,t=5;e&&(0,x.default)(e).subtract(t,"minute").isBefore((0,x.default)())&&(console.log("STS token will expire in ".concat(t," minutes\uff0cuploading will pause and resume after getting new STS token")),l&&l.cancel(),u({type:"upload/getCredential",success:a.resumeMultipartUpload}))}})},a.upload=function(e){var t=a.props.dispatch;t({type:"upload/upload",payload:e})},a.multipartUpload=function(e){var t=a.props.dispatch;t({type:"upload/multipartUpload",payload:e,onProgress:a.onMultipartUploadProgress})},a.resumeMultipartUpload=function(){var e=a.props.dispatch;Object.values(a.checkpoints).forEach(function(t){e({type:"upload/resumeMultipartUpload",payload:t,onProgress:a.onMultipartUploadProgress})})},a}return(0,v.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.submitting,a=e.form,n=this.state.progress,r=Object.values(n).map(function(e){return e.fileSize}).reduce(function(e,t){return e+t},0),d=Object.values(n).map(function(e){return e.progress*e.fileSize}).reduce(function(e,t){return e+t},0),c=d/r;console.log("total progress === ",c);var s=a.getFieldDecorator,f={labelCol:{xs:{span:24},sm:{span:3},md:{span:3}},wrapperCol:{xs:{span:24},sm:{span:20},md:{span:20}}},p={wrapperCol:{xs:{span:24,offset:0},sm:{span:10,offset:3}}};return w.default.createElement(N.default,{title:"\u6587\u4ef6\u4e0a\u4f20"},w.default.createElement(l.default,{bordered:!1},w.default.createElement(y.default,{onSubmit:this.handleSubmit,hideRequiredMark:!0,style:{marginTop:8}},w.default.createElement(L,(0,i.default)({},f,{label:"\u666e\u901a\u6587\u4ef6\uff08<100MB\uff09"}),s("files",{initialValue:[],valuePropName:"fileList"})(w.default.createElement(P.default,{maxCount:10,multiple:!0,lazyUpload:!0}))),w.default.createElement(L,(0,i.default)({},f,{label:"\u5927\u6587\u4ef6\uff08>100MB\uff09"}),s("largeFiles",{initialValue:[],valuePropName:"fileList"})(w.default.createElement(P.default,{maxCount:10,multiple:!0,lazyUpload:!0}))),w.default.createElement(L,(0,i.default)({},f,{label:"\u4e0a\u4f20\u8fdb\u5ea6"}),w.default.createElement(u.default,{style:{width:"50%"},strokeColor:{"0%":"#108ee9","100%":"#87d068"},percent:Number((100*c).toFixed(0))})),w.default.createElement(L,(0,i.default)({},p,{style:{marginTop:32}}),w.default.createElement(o.default,{type:"primary",size:"large",htmlType:"submit",loading:t},"\u63d0\u4ea4")))))}}]),t}(w.PureComponent),b=E))||b)||b);t.default=M},DOM4:function(e,t,a){"use strict";var n=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getBreadcrumb=void 0,a("sPJy");var l=r(a("bE4q")),o=r(a("eHn4")),u=r(a("2Taf")),i=r(a("vZ4D")),d=r(a("l4Ni")),c=r(a("ujKo")),s=r(a("MhPg")),f=n(a("q1tI")),p=r(a("bALw")),m=r(a("tbSg")),v=a("S/9j"),h=function(e,t){var a=e[t];return a||Object.keys(e).forEach(function(n){(0,p.default)(n).test(t)&&(a=e[n])}),a||{}};t.getBreadcrumb=h;var g=function(e){function t(){var e,a;(0,u.default)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),a.state={breadcrumb:null},a.getBreadcrumbDom=function(){var e=a.conversionBreadcrumbList();a.setState({breadcrumb:e})},a.getBreadcrumbProps=function(){var e=a.props,t=e.routes,n=e.params,r=e.location,l=e.breadcrumbNameMap;return{routes:t,params:n,routerLocation:r,breadcrumbNameMap:l}},a.conversionFromProps=function(){var e=a.props,t=e.breadcrumbList,n=e.breadcrumbSeparator,r=e.itemRender,u=e.linkElement,i=void 0===u?"a":u;return f.default.createElement(l.default,{className:m.default.breadcrumb,separator:n},t.map(function(e){var t=r?r(e):e.title;return f.default.createElement(l.default.Item,{key:e.title},e.href?(0,f.createElement)(i,(0,o.default)({},"a"===i?"href":"to",e.href),t):t)}))},a.conversionFromLocation=function(e,t){var n=a.props,r=n.breadcrumbSeparator,u=n.home,i=n.itemRender,d=n.linkElement,c=void 0===d?"a":d,s=(0,v.urlToList)(e.pathname),p=s.map(function(e,a){var n=h(t,e);if(n.inherited)return null;var r=a!==s.length-1&&n.component,u=i?i(n):n.name;return n.name&&!n.hideInBreadcrumb?f.default.createElement(l.default.Item,{key:e},(0,f.createElement)(r?c:"span",(0,o.default)({},"a"===c?"href":"to",e),u)):null});return p.unshift(f.default.createElement(l.default.Item,{key:"home"},(0,f.createElement)(c,(0,o.default)({},"a"===c?"href":"to","/"),u||"Home"))),f.default.createElement(l.default,{className:m.default.breadcrumb,separator:r},p)},a.conversionBreadcrumbList=function(){var e=a.props,t=e.breadcrumbList,n=e.breadcrumbSeparator,r=a.getBreadcrumbProps(),o=r.routes,u=r.params,i=r.routerLocation,d=r.breadcrumbNameMap;return t&&t.length?a.conversionFromProps():o&&u?f.default.createElement(l.default,{className:m.default.breadcrumb,routes:o.filter(function(e){return e.breadcrumbName}),params:u,itemRender:a.itemRender,separator:n}):i&&i.pathname?a.conversionFromLocation(i,d):null},a.itemRender=function(e,t,n,r){var l=a.props.linkElement,o=void 0===l?"a":l,u=n.indexOf(e)===n.length-1;return u||!e.component?f.default.createElement("span",null,e.breadcrumbName):(0,f.createElement)(o,{href:r.join("/")||"/",to:r.join("/")||"/"},e.breadcrumbName)},a}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.getBreadcrumbDom()}},{key:"componentDidUpdate",value:function(e){var t=this.props.location;if(t&&e.location){var a=e.location.pathname;a!==t.pathname&&this.getBreadcrumbDom()}}},{key:"render",value:function(){var e=this.state.breadcrumb;return e}}]),t}(f.PureComponent);t.default=g},Dnn4:function(e,t,a){e.exports={content:"antd-pro\\components\\-page-header-wrapper\\index-content"}},LIIa:function(e,t,a){"use strict";var n=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("cWXX");var l=r(a("/ezw")),o=r(a("jehZ")),u=r(a("2Taf")),i=r(a("vZ4D")),d=r(a("l4Ni")),c=r(a("ujKo")),s=r(a("MhPg"));a("Znn+");var f=r(a("ZTPi")),p=n(a("q1tI")),m=r(a("TSYQ")),v=r(a("tbSg")),h=r(a("DOM4")),g=f.default.TabPane,b=function(e){function t(){var e,a;(0,u.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,d.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),a.onChange=function(e){var t=a.props.onTabChange;t&&t(e)},a}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.logo,n=e.action,r=e.content,u=e.extraContent,i=e.tabList,d=e.className,c=e.tabActiveKey,s=e.tabDefaultActiveKey,b=e.tabBarExtraContent,E=e.loading,y=void 0!==E&&E,w=e.wide,C=void 0!==w&&w,x=e.hiddenBreadcrumb,N=void 0!==x&&x,P=(0,m.default)(v.default.pageHeader,d),L={};return void 0!==s&&(L.defaultActiveKey=s),void 0!==c&&(L.activeKey=c),p.default.createElement("div",{className:P},p.default.createElement("div",{className:C?v.default.wide:""},p.default.createElement(l.default,{loading:y,title:!1,active:!0,paragraph:{rows:3},avatar:{size:"large",shape:"circle"}},N?null:p.default.createElement(h.default,this.props),p.default.createElement("div",{className:v.default.detail},a&&p.default.createElement("div",{className:v.default.logo},a),p.default.createElement("div",{className:v.default.main},p.default.createElement("div",{className:v.default.row},t&&p.default.createElement("h1",{className:v.default.title},t),n&&p.default.createElement("div",{className:v.default.action},n)),p.default.createElement("div",{className:v.default.row},r&&p.default.createElement("div",{className:v.default.content},r),u&&p.default.createElement("div",{className:v.default.extraContent},u)))),i&&i.length?p.default.createElement(f.default,(0,o.default)({className:v.default.tabs},L,{onChange:this.onChange,tabBarExtraContent:b}),i.map(function(e){return p.default.createElement(g,{tab:e.tab,key:e.key})})):null)))}}]),t}(p.PureComponent);t.default=b},R1Dz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("q1tI"),r=(0,n.createContext)();t.default=r},"S/9j":function(e,t,a){"use strict";function n(e){var t=e.split("/").filter(function(e){return e});return t.map(function(e,a){return"/".concat(t.slice(0,a+1).join("/"))})}Object.defineProperty(t,"__esModule",{value:!0}),t.urlToList=n},YpuR:function(e,t,a){"use strict";var n=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var l=r(a("kLXV"));a("DZo9");var o=r(a("8z0m"));a("Pwec");var u=r(a("CtXQ")),i=r(a("gWZ8")),d=r(a("2Taf")),c=r(a("vZ4D")),s=r(a("l4Ni")),f=r(a("ujKo")),p=r(a("MhPg")),m=n(a("q1tI")),v=(r(a("17x9")),function(e){function t(e){var a;(0,d.default)(this,t),a=(0,s.default)(this,(0,f.default)(t).call(this,e)),a.handleCancel=function(){return a.setState({previewVisible:!1})},a.handlePreview=function(e){a.setState({previewImage:e.url||e.thumbUrl,previewVisible:!0})},a.handleChange=function(e){var t=e.fileList,n=a.props.onChange;a.setState({fileList:t}),n(t)},a.handleBeforeUpload=function(e){var t=a.props.lazyUpload;return!t||(a.setState(function(t){return{fileList:[].concat((0,i.default)(t.fileList),[e])}}),!1)};var n=a.props.fileList;return a.state={previewVisible:!1,previewImage:"",fileList:n||[]},a}return(0,p.default)(t,e),(0,c.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.props.fileList;if(a.length!==e.fileList.length)this.setState({fileList:e.fileList});else if(e.fileList.length>0)for(var n=function(n){var r=e.fileList[n],l=a.find(function(e){return e.uid===r.uid});if("undefined"===typeof l||r.url!==l.url)return t.setState({fileList:e.fileList}),"break"},r=0;r<e.fileList.length;r++){var l=n(r);if("break"===l)break}}},{key:"render",value:function(){var e=this.state,t=e.previewVisible,a=e.previewImage,n=e.fileList,r=this.props,i=r.maxCount,d=(r.progress,m.default.createElement("div",null,m.default.createElement(u.default,{type:"plus"}),m.default.createElement("div",{className:"ant-upload-text"},"\u70b9\u51fb\u4e0a\u4f20")));return m.default.createElement("div",{className:"clearfix"},m.default.createElement(o.default,{action:"/api/upload",listType:"picture-card",fileList:n,onPreview:this.handlePreview,onChange:this.handleChange,beforeUpload:this.handleBeforeUpload,multiple:i>1,withCredentials:!0},n.length>=i?null:d),m.default.createElement(l.default,{visible:t,footer:null,onCancel:this.handleCancel},m.default.createElement("img",{alt:"example",style:{width:"100%"},src:a})))}}]),t}(m.Component));v.defaultProps={maxCount:1,onChange:function(){},lazyUpload:!1};var h=v;t.default=h},"lh+i":function(e,t,a){e.exports={main:"antd-pro\\components\\-page-header-wrapper\\-grid-content-main",wide:"antd-pro\\components\\-page-header-wrapper\\-grid-content-wide"}},tbSg:function(e,t,a){e.exports={pageHeader:"antd-pro\\components\\-page-header\\index-pageHeader",wide:"antd-pro\\components\\-page-header\\index-wide",detail:"antd-pro\\components\\-page-header\\index-detail",row:"antd-pro\\components\\-page-header\\index-row",breadcrumb:"antd-pro\\components\\-page-header\\index-breadcrumb",tabs:"antd-pro\\components\\-page-header\\index-tabs",logo:"antd-pro\\components\\-page-header\\index-logo",title:"antd-pro\\components\\-page-header\\index-title",action:"antd-pro\\components\\-page-header\\index-action",content:"antd-pro\\components\\-page-header\\index-content",extraContent:"antd-pro\\components\\-page-header\\index-extraContent",main:"antd-pro\\components\\-page-header\\index-main"}},v99g:function(e,t,a){"use strict";var n=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a("2Taf")),o=r(a("vZ4D")),u=r(a("l4Ni")),i=r(a("ujKo")),d=r(a("MhPg")),c=n(a("q1tI")),s=a("MuoO"),f=r(a("lh+i")),p=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,(0,i.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.contentWidth,a=e.children,n="".concat(f.default.main);return"Fixed"===t&&(n="".concat(f.default.main," ").concat(f.default.wide)),c.default.createElement("div",{className:n},a)}}]),t}(c.PureComponent),m=(0,s.connect)(function(e){var t=e.setting;return{contentWidth:t.contentWidth}})(p);t.default=m},zHco:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("jehZ")),l=n(a("Y/ft")),o=n(a("q1tI")),u=a("LLXN"),i=n(a("wY1l")),d=n(a("LIIa")),c=a("MuoO"),s=n(a("v99g")),f=n(a("Dnn4")),p=n(a("R1Dz")),m=function(e){var t=e.children,a=e.contentWidth,n=e.wrapperClassName,c=e.top,m=(0,l.default)(e,["children","contentWidth","wrapperClassName","top"]);return o.default.createElement("div",{style:{margin:"-24px -24px 0"},className:n},c,o.default.createElement(p.default.Consumer,null,function(e){return o.default.createElement(d.default,(0,r.default)({wide:"Fixed"===a,home:o.default.createElement(u.FormattedMessage,{id:"menu.home",defaultMessage:"Home"})},e,{key:"pageheader"},m,{linkElement:i.default,itemRender:function(e){return e.locale?o.default.createElement(u.FormattedMessage,{id:e.locale,defaultMessage:e.name}):e.name}}))}),t?o.default.createElement("div",{className:f.default.content},o.default.createElement(s.default,null,t)):null)},v=(0,c.connect)(function(e){var t=e.setting;return{contentWidth:t.contentWidth}})(m);t.default=v}}]);